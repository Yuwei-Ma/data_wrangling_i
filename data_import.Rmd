---
title: "Data Import"
output: github_document
---
Command option I to create data chunk

Start loading data (reader is pt of tidyverse)
```{r}
library(tidyverse)
library(readxl)
library(haven)
```

## Let's import a dataset
(read.csv is not as good as read_csv)
```{r}
litters_df = 
  read_csv("data/FAS_litters.csv") # fetal-alcohol syndrome
# _csv means it will convert this to tibble and do other things that are helpful
# run this in console, you'll see it gives #rows #col, these are characters these are numbers
```

## Look at your data!!
```{r}
names(litters_df)
```
We can see that there's space in the variable names, accessing variable that has space in it is difficult and clunkty

## Update the names in 'litters_df
```{r}
litters_df= 
  janitor::clean_names(litters_df) # janitor::clean_names is using this function in janitor,
# so you don't need load entire lib/package
```

now "Litter Number" -> litter_number
```{r}
litters_df
```
use litters_df, show first 10 rows
Also can use view(litters_df) in console, to see the whole dataset

Sometimes skimming data is neat?
```{r}
skimr::skim(litters_df)# high level summary, 
```

## Fix the missingness
```{r} 
# the person who create the data someitmes use . to indicate a missing data
litters_df = 
  read_csv("data/FAS_litters.csv", na = c("NA",".","")) # we have actual texts like NA, changes type
```
After this, we can see the column GD0 weight from 'chr' changes to 'dbl' 

## Import Pups data, the first rows are missing, so we want to skip them
```{r}
pups_df = 
  read.csv(
    "data/FAS_pups.csv",
    skip = 3, # skip some rows
    na = c("NA",".","")
    )
pups_df =
  janitor::clean_names(pups_df)
```

?read_csv 
this helps you know the syntax and functions

# ok what about excel
CSV is better than excel, excel always have some additional data forms, like date appears differently

run 'library(readxl)' beforehand
?read_excel
```{r}
mlb_df = 
  read_excel("data/mlb11.xlsx")
```
view(mlb_df) to check 

## Import LotR word counts. 
```{r}
fotr_df = 
  read_excel("data/LotR_Words.xlsx", range = "B3:D6")
```

## SAS???
Import the PULSE data
```{r}
pulse_df = read_sas("data/public_pulse_data.sas7bdat")

pulse_df = 
  janitor::clean_names(pulse_df) # figure prefixes on column name like BDI in this file
```

## WHY do JG hate read.csv so much??

```{r, eval = FALSE}
litters_df_base = 
  read.csv("data/FAS_litters.csv") # if we print this, it print thousands of rows, and doesn't show useful info like variable type, and how many rows&columns... So we set eval = FALSE just to not show this
```

## What abobut data exporting?
```{r}
write_csv(fotr_df, "data/fatr_df.csv")

```

